<div class="bottom-panel focus-panel" id="infocus-panel" style="max-height:75px;">

  <div class="toolbar simple-toolbar-layout">
    <div class="title">InFocus</div>
    <a href="#" class="close">Ã—</a>
  </div>

  <div class="infocus-contents">
    <audio id="infocus-sound-cafe" loop>
      <source src="C:\Users\Judy\AppData\Roaming\Brackets\extensions\user\abakos.infocus\coffee.ogg">
    </audio>
    <audio id="infocus-sound-garden" loop>
      <source src="C:\Users\Judy\AppData\Roaming\Brackets\extensions\user\abakos.infocus\garden.wav">
    </audio>

    <div id="infocus-player">
      <div class="infocus-player-channels">
        <button id="infocus-play-cafe" class="cafe-play" onclick="playSound('cafe')" title="Busy cafe"></button>
        <button id="infocus-play-garden" class="garden-play" onclick="playSound('garden')" title="Garden sounds"></button>
        <button id="infocus-play-night" class="night-play" onclick="" title="Summer night sounds"></button>
        <button id="infocus-play-fire" class="fire-play" onclick="" title="Burning fire sounds"></button>
        <button id="infocus-play-city" class="city-play" onclick="" title="Cityscape sounds"></button>
      </div>

      <div class="infocus-player-controls">
        <button id="infocus-mute" class="unmute-sound" onclick="mute()" title="Mute button"></button>
        <input id="infocus-volume-slider" type="range" min="0" max="100" value="100" step="1" onchange="setVolume()">
      </div>

    </div> <!-- #infocus-player -->
  </div> <!-- .infocus-contents -->
</div> <!-- #infocus-panel -->

<script>

// This array contains the sounds, soundArray[x].
// These elements will be used later in the mute() and setVolume() functions.
// In those functions we need to set the values for each array elements (sounds)
// in order to have the functions affect them globally, all at once, instead of
// changing the values (ie. mute them or change the volume) individually.
var soundsArray = [];
  soundsArray[0] = document.getElementById('infocus-sound-cafe');
  soundsArray[1] = document.getElementById('infocus-sound-garden');

// Global variables
var channelSound;
var channelPlayBtn;
var currentVol;

var muteButton  = document.getElementById('infocus-mute');
var volSlider   = document.getElementById('infocus-volume-slider');

// Function for playing the sounds by passing the sounds' names as arguments
// eg. playSound('cafe')
function playSound(channel) {
  channelSound = document.getElementById('infocus-sound-' + channel);
  channelPlayBtn = document.getElementById('infocus-play-' + channel);

  // Start playing the sounds
  if (channelSound.paused) {
    channelSound.play();
    // Remove *-play CSS class, add *-pause instead
    channelPlayBtn.className = "";
    channelPlayBtn.className = channel + "-pause";
  }
  // Pause the sounds
  else {
    channelSound.pause();
    // Remove *-pause CSS class, add *-play instead
    channelPlayBtn.className = "";
    channelPlayBtn.className = channel + "-play";
  }
}

// Volume slider
function setVolume() {
  // Set the volume for all channels.
  // If it was channelSound.volume here, only the lastly clicked channel's
  // value would be changing
  soundsArray[0].volume = volSlider.value / 100;
  soundsArray[1].volume = volSlider.value / 100;

  // Save the current volume, we'll need it later:
  currentVol = volSlider.value;

  if (currentVol == 0) {
    // If the volume is zero, apply the mute icon
    muteButton.className = "";
    muteButton.className = "mute-sound";
  }
  else {
    // Otherwise put the volume slider back to its last position,
    // and apply the "loud" icon
    volSlider.value = currentVol;
    muteButton.className = "";
    muteButton.className = "unmute-sound";
  }
}

// Mute button
function mute() {
  if (channelSound.muted) {
    soundsArray[0].muted = false;
    soundsArray[1].muted = false;

    // Back to last position from muted state
    volSlider.value = currentVol;

    // Apply "loud" icon
    muteButton.className = "";
    muteButton.className = "unmute-sound";
  }
  else {
    soundsArray[0].muted = true;
    soundsArray[1].muted = true;

    // Set volume to zero
    volSlider.value = 0;

    // Apply mute icon
    muteButton.className = "";
    muteButton.className = "mute-sound";
  }
}

</script>